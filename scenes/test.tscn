[gd_scene load_steps=11 format=4 uid="uid://c0h5npv7vsge6"]

[ext_resource type="TileSet" uid="uid://bk5s8shuuu403" path="res://assets/tiles.tres" id="1_errlg"]
[ext_resource type="PackedScene" uid="uid://cxmr885n24ccj" path="res://scenes/player/player.tscn" id="2_bl13t"]
[ext_resource type="PackedScene" uid="uid://vh57x8en1fcj" path="res://scenes/enemy/imp.tscn" id="3_iyx0m"]
[ext_resource type="PackedScene" uid="uid://dqx0v8pfqoius" path="res://scenes/enemy/big_demon.tscn" id="4_j5jx5"]
[ext_resource type="PackedScene" uid="uid://duthgcyg0n6ry" path="res://scenes/enemy/chort.tscn" id="5_lpvoh"]
[ext_resource type="PackedScene" uid="uid://cn2mln72m14l1" path="res://scripts/game/wave/spawn_area.tscn" id="6_jcd4p"]
[ext_resource type="Script" uid="uid://dmmtl0hda5obe" path="res://scripts/game/wave/wave_manager.gd" id="6_lpvoh"]
[ext_resource type="Script" uid="uid://undmhay5dy6w" path="res://scripts/game/wave/wave.gd" id="7_at5dv"]

[sub_resource type="Resource" id="Resource_jcd4p"]
script = ExtResource("7_at5dv")
enemies = Dictionary[PackedScene, int]({
ExtResource("3_iyx0m"): 3,
ExtResource("5_lpvoh"): 2,
ExtResource("4_j5jx5"): 1
})
metadata/_custom_type_script = "uid://undmhay5dy6w"

[sub_resource type="Resource" id="Resource_uacia"]
script = ExtResource("7_at5dv")
enemies = Dictionary[PackedScene, int]({
ExtResource("3_iyx0m"): 10,
ExtResource("5_lpvoh"): 5,
ExtResource("4_j5jx5"): 2
})
metadata/_custom_type_script = "uid://undmhay5dy6w"

[node name="Test" type="Node2D"]

[node name="Environment" type="Node2D" parent="."]
metadata/_edit_lock_ = true

[node name="Floor" type="TileMapLayer" parent="Environment"]
tile_map_data = PackedByteArray("AAAAAAIAAAAEAAUAAAAAAAMAAAAEAAUAAAAAAAQAAAAEAAUAAAAAAAUAAAAEAAUAAAAAAAYAAAAEAAUAAAAAAAcAAAAEAAUAAAABAAIAAAAAAAAAAAABAAMAAAAAAAAAAAABAAQAAAAAAAAAAAABAAUAAAAAAAAAAAABAAYAAAAAAAAAAAABAAcAAAAAAAAAAAACAAIAAAAAAAAAAAACAAMAAAAAAAAAAAACAAQAAAAAAAAAAAACAAUAAAAAAAAAAAACAAYAAAAAAAAAAAACAAcAAAAAAAAAAAADAAIAAAAAAAAAAAADAAMAAAACAAAAAAADAAQAAAAAAAAAAAADAAUAAAAAAAAAAAADAAYAAAAAAAAAAAADAAcAAAAAAAAAAAAEAAIAAAAAAAAAAAAEAAMAAAAAAAAAAAAEAAQAAAAAAAAAAAAEAAUAAAAAAAAAAAAEAAYAAAAAAAAAAAAFAAIAAAAAAAAAAAAFAAMAAAAAAAAAAAAFAAQAAAAAAAAAAAAFAAUAAAAAAAAAAAAFAAYAAAAAAAAAAAAFAAcAAAAAAAAAAAAGAAIAAAAAAAAAAAAGAAMAAAAAAAAAAAAGAAQAAAAAAAAAAAAGAAUAAAAAAAAAAAAGAAYAAAAAAAAAAAAGAAcAAAACAAAAAAAHAAIAAAAAAAAAAAAHAAMAAAAAAAAAAAAHAAQAAAAAAAAAAAAHAAUAAAAAAAAAAAAIAAIAAAAAAAAAAAAIAAMAAAAAAAAAAAAIAAQAAAAAAAAAAAAIAAUAAAAAAAAAAAAIAAcAAQAJAAIAAAAJAAIAAAAAAAAAAAAJAAMAAAAAAAAAAAAJAAQAAAAAAAAAAAAJAAUAAAAAAAAAAAAJAAYAAAAAAAAAAAAJAAcAAAAAAAAAAAAKAAIAAAAAAAAAAAAKAAMAAAAAAAAAAAAKAAQAAAAAAAAAAAAKAAUAAAAAAAAAAAAKAAYAAAAAAAAAAAAKAAcAAAAAAAAAAAAAAAEAAAAEAAUAAAAAAAgAAAAEAAUAAAAAAAkAAAAEAAUAAAAAAAoAAAAEAAUAAAAAAAsAAAAEAAUAAAAAAAwAAAAEAAUAAAAAAA0AAAAEAAUAAAAAAA4AAAAEAAUAAAAAAA8AAAAEAAUAAAABAAEAAAAAAAAAAAABAAgAAAAAAAAAAAABAAkAAAAAAAAAAAABAAoAAAAAAAAAAAABAAsAAAAAAAAAAAABAAwAAAAAAAAAAAABAA0AAAAAAAAAAAABAA4AAAAAAAAAAAABAA8AAAAAAAAAAAACAAEAAAAAAAAAAAACAAgAAAABAAEAAAACAAkAAAAAAAAAAAACAAoAAAAAAAAAAAACAAsAAAAAAAAAAAACAAwAAAAAAAAAAAACAA0AAAAAAAAAAAACAA4AAAAAAAAAAAACAA8AAAACAAAAAAADAAEAAAAAAAAAAAADAAgAAAAAAAAAAAADAAkAAAAAAAAAAAADAAoAAAAAAAAAAAADAAsAAAACAAAAAAADAAwAAAAAAAAAAAADAA0AAAAAAAAAAAADAA4AAAAAAAAAAAADAA8AAAACAAAAAAAEAAEAAAAAAAAAAAAEAAgAAAABAAEAAAAEAAkAAAAAAAAAAAAEAAoAAAAAAAAAAAAEAAsAAAAAAAAAAAAEAAwAAAAAAAAAAAAEAA0AAAAAAAAAAAAEAA4AAAAAAAAAAAAEAA8AAAAAAAAAAAAFAAEAAAAAAAAAAAAFAAgAAAAAAAAAAAAFAAkAAAAAAAAAAAAFAAoAAAAAAAAAAAAFAAsAAAAAAAAAAAAFAAwAAAAAAAAAAAAFAA0AAAAAAAAAAAAFAA4AAAAAAAAAAAAFAA8AAAAAAAAAAAAGAAEAAAAAAAAAAAAGAAgAAAAAAAAAAAAGAAkAAAAAAAAAAAAGAAoAAAABAAAAAAAGAAsAAAAAAAAAAAAGAAwAAAAAAAAAAAAGAA0AAAAAAAAAAAAGAA4AAAAAAAAAAAAGAA8AAAAAAAAAAAAHAAEAAAAAAAAAAAAHAAgAAQAJAAIAAAAHAAkAAAAAAAAAAAAHAAoAAAAAAAAAAAAHAA0AAQAJAAIAAAAHAA4AAAAAAAAAAAAHAA8AAAAAAAAAAAAIAAEAAAAAAAAAAAAIAAgAAAAAAAAAAAAIAAkAAAAAAAAAAAAIAAoAAAAAAAAAAAAIAAsAAAAAAAAAAAAIAA0AAQAJAAIAAAAIAA4AAAAAAAAAAAAIAA8AAAAAAAAAAAAJAAEAAAAAAAAAAAAJAAgAAAAAAAAAAAAJAAkAAAAAAAAAAAAJAAoAAAAAAAAAAAAJAAsAAAAAAAAAAAAJAAwAAAAAAAAAAAAJAA0AAAAAAAAAAAAJAA4AAAAAAAAAAAAJAA8AAAAAAAAAAAAKAAEAAAAAAAAAAAAKAAgAAAAAAAAAAAAKAAkAAAAAAAAAAAAKAAoAAAAAAAAAAAAKAAsAAAAAAAAAAAAKAAwAAAAAAAAAAAAKAA0AAAAAAAAAAAAKAA4AAAAAAAAAAAAKAA8AAAAAAAAAAAALAAEAAAAAAAAAAAALAAIAAAAAAAAAAAALAAMAAAAAAAAAAAALAAQAAAAAAAAAAAALAAUAAAAAAAAAAAALAAYAAAAAAAAAAAALAAcAAAAAAAAAAAALAAgAAAAAAAAAAAALAAkAAAAAAAAAAAALAAoAAAAAAAAAAAALAAsAAAAAAAAAAAALAAwAAAAAAAAAAAALAA0AAAAAAAAAAAALAA4AAAAAAAAAAAALAA8AAAAAAAAAAAAMAAEAAAAAAAAAAAAMAAIAAAAAAAAAAAAMAAMAAAAAAAAAAAAMAAQAAAAAAAAAAAAMAAUAAAAAAAAAAAAMAAcAAAAAAAAAAAAMAAgAAAAAAAAAAAAMAAkAAAAAAAAAAAAMAAoAAAAAAAAAAAAMAAsAAAAAAAAAAAAMAA0AAAAAAAAAAAAMAA4AAAACAAAAAAAMAA8AAAAAAAAAAAANAAEAAAAAAAAAAAANAAIAAAAAAAAAAAANAAMAAAAAAAAAAAANAAQAAAAAAAAAAAANAAUAAAAAAAAAAAANAAgAAAAAAAAAAAANAAkAAAABAAEAAAANAAoAAAAAAAAAAAANAA0AAAAAAAAAAAANAA4AAAAAAAAAAAANAA8AAAAAAAAAAAAOAAEAAAAAAAAAAAAOAAIAAAAAAAAAAAAOAAMAAAAAAAAAAAAOAAQAAAAAAAAAAAAOAAUAAAAAAAAAAAAOAAYAAAAAAAAAAAAOAAcAAQAJAAIAAAAOAAgAAAAAAAAAAAAOAAkAAAAAAAAAAAAOAAoAAAAAAAAAAAAOAAsAAAAAAAAAAAAOAAwAAAAAAAAAAAAOAA0AAQAJAAIAAAAOAA4AAAAAAAAAAAAOAA8AAAAAAAAAAAAPAAEAAAAAAAAAAAAPAAIAAAAAAAAAAAAPAAMAAAAAAAAAAAAPAAQAAAAAAAAAAAAPAAUAAAAAAAAAAAAPAAYAAAAAAAAAAAAPAAcAAQAJAAIAAAAPAAgAAQAJAAIAAAAPAAkAAAAAAAAAAAAPAAoAAAAAAAAAAAAPAAsAAAAAAAAAAAAPAAwAAQAJAAIAAAAPAA0AAQAJAAIAAAAPAA4AAAAAAAAAAAAPAA8AAAAAAAAAAAAQAAEAAAAAAAAAAAAQAAIAAAAAAAAAAAAQAAMAAAAAAAAAAAAQAAQAAAAAAAAAAAAQAAUAAAAAAAAAAAAQAAYAAAAAAAAAAAAQAAcAAAAAAAAAAAAQAAgAAAAAAAAAAAAQAAkAAAAAAAAAAAAQAAoAAAAAAAAAAAAQAAsAAAAAAAAAAAAQAAwAAAAAAAAAAAAQAA0AAAAAAAAAAAAQAA4AAAAAAAAAAAAQAA8AAAAAAAAAAAARAAEAAAAAAAAAAAARAAIAAAAAAAAAAAARAAMAAAAAAAAAAAARAAQAAAAAAAAAAAARAAUAAAAAAAAAAAARAAYAAAAAAAAAAAARAAcAAAACAAAAAAARAAgAAAAAAAAAAAARAAkAAAAAAAAAAAARAAoAAAAAAAAAAAARAAsAAAAAAAAAAAARAAwAAAABAAEAAAARAA0AAAAAAAAAAAARAA4AAAAAAAAAAAARAA8AAAAAAAAAAAASAAEAAAAAAAAAAAASAAIAAAAAAAAAAAASAAMAAAAAAAAAAAASAAQAAAAAAAAAAAASAAUAAAAAAAAAAAASAAYAAAAAAAAAAAASAAcAAAAAAAAAAAASAAgAAAAAAAAAAAASAAkAAAAAAAAAAAASAAoAAAAAAAAAAAASAAsAAAAAAAAAAAASAAwAAAAAAAAAAAASAA0AAAAAAAAAAAASAA4AAAAAAAAAAAASAA8AAAAAAAAAAAATAAEAAAAAAAAAAAATAAIAAAAAAAAAAAATAAMAAAAAAAAAAAATAAQAAAAAAAAAAAATAAUAAAAAAAAAAAATAAYAAAAAAAAAAAATAAcAAAAAAAAAAAATAAgAAAAAAAAAAAATAAkAAAAAAAAAAAATAAoAAAAAAAAAAAATAAsAAAAAAAAAAAATAAwAAAAAAAAAAAATAA0AAAAAAAAAAAATAA4AAAAAAAAAAAATAA8AAAAAAAAAAAAUAAEAAAAAAAAAAAAUAAIAAAAAAAAAAAAUAAMAAAAAAAAAAAAUAAQAAAAAAAAAAAAUAAUAAAAAAAAAAAAUAAcAAAAAAAAAAAAUAAgAAAAAAAAAAAAUAAkAAAAAAAAAAAAUAAoAAAAAAAAAAAAUAAsAAAAAAAAAAAAUAAwAAAAAAAAAAAAUAA0AAAAAAAAAAAAUAA4AAAAAAAAAAAAUAA8AAAAAAAAAAAAVAAEAAAAAAAAAAAAVAAIAAAABAAAAAAAVAAMAAAAAAAAAAAAVAAQAAAAAAAAAAAAVAAUAAAAAAAAAAAAVAAYAAAAAAAAAAAAVAAcAAAAAAAAAAAAVAAgAAAAAAAAAAAAVAAkAAAAAAAAAAAAVAAoAAAAAAAAAAAAVAAsAAAAAAAAAAAAVAAwAAAAAAAAAAAAVAA0AAAAAAAAAAAAVAA4AAAAAAAAAAAAVAA8AAAAAAAAAAAAWAAEAAAAAAAAAAAAWAAIAAAAAAAAAAAAWAAMAAAAAAAAAAAAWAAQAAAACAAAAAAAWAAUAAAAAAAAAAAAWAAYAAAAAAAAAAAAWAAcAAAAAAAAAAAAWAAgAAAAAAAAAAAAWAAkAAAAAAAAAAAAWAAoAAAAAAAAAAAAWAAsAAAAAAAAAAAAWAAwAAAAAAAAAAAAWAA0AAAAAAAAAAAAWAA4AAAAAAAAAAAAWAA8AAAAAAAAAAAAXAAEAAAAAAAAAAAAXAAIAAAAAAAAAAAAXAAMAAAAAAAAAAAAXAAQAAAAAAAAAAAAXAAUAAAAAAAAAAAAXAAYAAAAAAAAAAAAXAAcAAAAAAAAAAAAXAAgAAAAAAAAAAAAXAAkAAAAAAAAAAAAXAAoAAAAAAAAAAAAXAAsAAAAAAAAAAAAXAAwAAAAAAAAAAAAXAA0AAAAAAAAAAAAXAA4AAAAAAAAAAAAXAA8AAAAAAAAAAAAYAAEAAAAAAAAAAAAYAAIAAAAAAAAAAAAYAAMAAAABAAAAAAAYAAQAAAAAAAAAAAAYAAUAAAAAAAAAAAAYAAYAAAAAAAAAAAAYAAcAAAAAAAAAAAAYAAgAAAAAAAAAAAAYAAkAAAAAAAAAAAAYAAoAAAAAAAAAAAAYAAsAAAAAAAAAAAAYAAwAAAAAAAAAAAAYAA0AAAAAAAAAAAAYAA4AAAAAAAAAAAAYAA8AAAAAAAAAAAAZAAEAAAAFAAUAAAAZAAIAAAAFAAUAAAAZAAMAAAAFAAUAAAAZAAQAAAAFAAUAAAAZAAUAAAAFAAUAAAAZAAYAAAAFAAUAAAAZAAcAAAAFAAUAAAAZAAgAAAAFAAUAAAAZAAkAAAAFAAUAAAAZAAoAAAAFAAUAAAAZAAsAAAAFAAUAAAAZAAwAAAAFAAUAAAAZAA0AAAAFAAUAAAAZAA4AAAAFAAUAAAAZAA8AAAAFAAUAAAAEAAcAAAAAAAAAAAAUAAYAAAAAAAAAAAAIAAwAAAAAAAAAAAAHAAwAAQAJAAIAAAAHAAsAAAAAAAAAAAAHAAcAAQAJAAIAAAAHAAYAAAAAAAAAAAAIAAYAAAAAAAAAAAAMAAYAAAAAAAAAAAANAAYAAAAAAAAAAAANAAcAAAAAAAAAAAANAAsAAAAAAAAAAAANAAwAAAAAAAAAAAAMAAwAAAAAAAAAAAA=")
tile_set = ExtResource("1_errlg")

[node name="Walls" type="TileMapLayer" parent="Environment"]
tile_map_data = PackedByteArray("AAAAAAAAAwABAAAAAAABAAAAAwACAAMAAAACAAAAAwACAAMAAAADAAAAAwACAAMAAAAEAAAAAwACAAMAAAAFAAAAAwACAAMAAAAGAAAAAwACAAMAAAAHAAAAAwACAAMAAAAIAAAAAwACAAMAAAAJAAAAAwACAAMAAAAKAAAAAwACAAMAAAALAAAAAwACAAMAAAAMAAAAAwACAAMAAAANAAAAAwACAAMAAAAOAAAAAwACAAMAAAAPAAAAAwACAAMAAAAQAAAAAwACAAMAAAARAAAAAwACAAMAAAASAAAAAwACAAMAAAATAAAAAwACAAMAAAAUAAAAAwACAAMAAAAVAAAAAwACAAMAAAAWAAAAAwACAAMAAAAXAAAAAwACAAMAAAAYAAAAAwACAAMAAAAZAAAAAwADAAAAAAAZAAEAAwAAAAEAAAAZAAIAAwAAAAEAAAAZAAMAAwAAAAEAAAAZAAQAAwAAAAEAAAAZAAUAAwAAAAEAAAAZAAYAAwAAAAEAAAAZAAcAAwAAAAEAAAAZAAgAAwAAAAEAAAAZAAkAAwAAAAEAAAAZAAoAAwAAAAEAAAAZAAwAAwAAAAEAAAAZAA0AAwAAAAEAAAAZAA4AAwAAAAEAAAAZAA8AAwADAAIAAAAZAAsAAwAAAAEAAAAYAA8AAwACAAMAAAAXAA8AAwACAAMAAAAWAA8AAwACAAMAAAAVAA8AAwACAAMAAAAUAA8AAwACAAMAAAATAA8AAwACAAMAAAASAA8AAwACAAMAAAARAA8AAwACAAMAAAAQAA8AAwACAAMAAAAPAA8AAwACAAMAAAAOAA8AAwACAAMAAAANAA8AAwACAAMAAAAMAA8AAwACAAMAAAALAA8AAwACAAMAAAAKAA8AAwACAAMAAAAJAA8AAwACAAMAAAAIAA8AAwACAAMAAAAHAA8AAwACAAMAAAAGAA8AAwACAAMAAAAFAA8AAwACAAMAAAAEAA8AAwACAAMAAAADAA8AAwACAAMAAAACAA8AAwACAAMAAAABAA8AAwACAAMAAAAAAA8AAwABAAIAAAAAAA4AAwAAAAEAAAAAAA0AAwAAAAEAAAAAAAwAAwAAAAEAAAAAAAsAAwAAAAEAAAAAAAoAAwAAAAEAAAAAAAkAAwAAAAEAAAAAAAgAAwAAAAEAAAAAAAcAAwAAAAEAAAAAAAYAAwAAAAEAAAAAAAUAAwAAAAEAAAAAAAQAAwAAAAEAAAAAAAMAAwAAAAEAAAAAAAIAAwAAAAEAAAAAAAEAAwAAAAEAAAA=")
tile_set = ExtResource("1_errlg")

[node name="Decoration" type="TileMapLayer" parent="Environment"]
tile_map_data = PackedByteArray("AAAMAAEAAwAPAAAAAAAPAAEAAwAQAAAAAAAHAAEAAwAPAAEAAAAEAAEAAwAMAAIAAAAEAP//AwAMAAEAAAAKAP//AwAQAAIAAAA=")
tile_set = ExtResource("1_errlg")

[node name="Objects" type="Node2D" parent="."]

[node name="Player" parent="Objects" instance=ExtResource("2_bl13t")]
position = Vector2(168, 156)

[node name="Enemies" type="Node2D" parent="Objects"]

[node name="SpawnPoints" type="Node2D" parent="Objects"]

[node name="SpawnArea" parent="Objects/SpawnPoints" instance=ExtResource("6_jcd4p")]
position = Vector2(313, 74)
radius = 40.0

[node name="SpawnArea2" parent="Objects/SpawnPoints" instance=ExtResource("6_jcd4p")]
position = Vector2(327, 181)
radius = 40.0

[node name="SpawnArea3" parent="Objects/SpawnPoints" instance=ExtResource("6_jcd4p")]
position = Vector2(70, 71)
radius = 40.0

[node name="Projectiles" type="Node2D" parent="Objects"]

[node name="Game" type="Node2D" parent="."]

[node name="WaveManager" type="Node2D" parent="Game" node_paths=PackedStringArray("player", "enemies_node", "spawn_points")]
script = ExtResource("6_lpvoh")
player = NodePath("../../Objects/Player")
enemies_node = NodePath("../../Objects/Enemies")
spawn_points = [NodePath("../../Objects/SpawnPoints/SpawnArea"), NodePath("../../Objects/SpawnPoints/SpawnArea2"), NodePath("../../Objects/SpawnPoints/SpawnArea3")]
waves = Array[ExtResource("7_at5dv")]([SubResource("Resource_jcd4p"), SubResource("Resource_uacia")])
